(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),c=n.n(r),s=n(19),o=n.n(s),i=n(4),l=n(16),u=n(36),d=n(2),j="SET_ALERT",p="REMOVE_ALERT",b="AUTH_START",f="AUTH_SUCCESS",m="AUTH_FAILURE",h="AUTH_INVALID_TOKEN",O="LOAD_USER_SUCCESS",g="LOGOUT",x="FETCH_PROFILE_START",v="LOAD_CURRENT_PROFILE_SUCCESS",y="PROFILE_ERROR",N="CLEAR_PROFILE",k="LOAD_ALL_PROFILES_SUCCESS",w="LOAD_REPOS",S="LOAD_POSTS_START",C="LOAD_POSTS",E="LOAD_POST",T="POSTS_ERROR",A="UPDATE_LIKES",_="UPDATE_COMMENTS",D={msg:null,type:null},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(d.a)(Object(d.a)({},e),{},{msg:t.msg,type:t.alertType});case p:return Object(d.a)(Object(d.a)({},e),{},{msg:null,type:null});default:return e}},P={isAuth:!1,loading:!1,user:null},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(d.a)(Object(d.a)({},e),{},{loading:!0,isAuth:!1,user:null});case f:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,isAuth:!0});case O:return Object(d.a)(Object(d.a)({},e),{},{user:t.user,isAuth:!0});case g:return Object(d.a)(Object(d.a)({},e),{},{isAuth:!1,user:null});case m:case h:return Object(d.a)(Object(d.a)({},e),{},{loading:!1});default:return e}},R={profile:null,profiles:[],loading:!1,repos:[]},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(d.a)(Object(d.a)({},e),{},{loading:!0,repos:[]});case v:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,profile:t.profile});case k:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,profiles:t.profiles});case N:return Object(d.a)(Object(d.a)({},e),{},{profile:null,repos:[]});case y:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,repos:[]});case w:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,repos:t.repos});default:return e}},U={loading:!1,posts:[],post:null,error:null},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(d.a)(Object(d.a)({},e),{},{loading:!0,posts:[],error:null});case C:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,posts:t.posts});case E:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,post:t.post});case A:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,posts:e.posts.map((function(e){return e._id===t.id?Object(d.a)(Object(d.a)({},e),{},{likes:t.likes}):e}))});case _:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,post:Object(d.a)(Object(d.a)({},e.post),{},{comments:t.comments})});case T:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:t.error});default:return e}},B=n(10),q=n(5),G=n(37),J=Object(i.b)((function(e){return{isAuth:e.auth.isAuth}}))((function(e){var t=e.component,n=e.isAuth,r=Object(G.a)(e,["component","isAuth"]);return Object(a.jsx)(B.b,Object(d.a)(Object(d.a)({},r),{},{render:function(e){return n?Object(a.jsx)(t,Object(d.a)({},e)):Object(a.jsx)(B.a,{to:"/login"})}}))})),z=(n(48),Object(i.b)((function(e){return{isAuth:e.auth.isAuth}}))((function(e){var t=Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:Object(a.jsx)(q.b,{to:"/developers",children:"Developers"})}),Object(a.jsx)("li",{children:Object(a.jsx)(q.b,{to:"/register",children:"Register"})}),Object(a.jsx)("li",{children:Object(a.jsx)(q.b,{to:"/login",children:"Login"})})]});return e.isAuth&&(t=Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:Object(a.jsxs)(q.b,{to:"/posts",children:[Object(a.jsx)("i",{className:"fas fa-sticky-note"})," ",Object(a.jsx)("span",{className:"hide-sm",children:"Posts"})]})}),Object(a.jsx)("li",{children:Object(a.jsxs)(q.b,{to:"/developers",children:[Object(a.jsx)("i",{className:"fab fa-dev"})," ",Object(a.jsx)("span",{className:"hide-sm",children:"Developers"})]})}),Object(a.jsx)("li",{children:Object(a.jsxs)(q.b,{to:"/dashboard",children:[Object(a.jsx)("i",{className:"fas fa-user"})," ",Object(a.jsx)("span",{className:"hide-sm",children:"Dashboard"})]})}),Object(a.jsx)("li",{children:Object(a.jsxs)(q.b,{to:"/logout",children:[Object(a.jsx)("i",{className:"fas fa-sign-out-alt"})," ",Object(a.jsx)("span",{className:"hide-sm",children:"Logout"})]})})]})),Object(a.jsx)(r.Fragment,{children:Object(a.jsxs)("nav",{className:"navbar",children:[Object(a.jsx)("h1",{children:Object(a.jsxs)(q.b,{to:"/",children:[Object(a.jsx)("i",{className:"fas fa-code"})," ",Object(a.jsx)("span",{className:"hide-sm",children:"DevConnector"})]})}),t]})})}))),H=(n(49),Object(i.b)((function(e){return{isAuth:e.auth.isAuth}}))((function(e){return e.isAuth?Object(a.jsx)(B.a,{to:"/dashboard"}):Object(a.jsx)("section",{className:"landing",children:Object(a.jsx)("div",{className:"landingOverlay",children:Object(a.jsxs)("div",{className:"landingInner",children:[Object(a.jsx)("h1",{className:"x-large",children:"DevConnector"}),Object(a.jsx)("p",{className:"large",children:"Create a developer profile/portfolio, share posts and get help from other developers"}),Object(a.jsxs)("div",{className:"buttons",children:[Object(a.jsx)(q.b,{to:"/register",className:"btn btn-primary",children:"Signup"}),Object(a.jsx)(q.b,{to:"/login",className:"btn btn-light",children:"Login"})]})]})})})}))),W=(n(50),function(){return Object(a.jsx)("div",{className:"loader",children:"..."})}),V=function(e,t){return function(n){n({type:j,msg:t,alertType:e}),setTimeout((function(){n({type:p})}),4e3)}},Y=n(3),X=n.n(Y),K=n(8),$=n(7),Q=n.n($),Z=function(e){return e?Q.a.defaults.headers.common["x-auth-token"]=e:Q.a.defaults.headers.delete["x-auth-token"]},ee=function(){return{type:b}},te=function(){return{type:f}},ne=function(){return{type:m}},ae=function(){return function(){var e=Object(K.a)(X.a.mark((function e(t){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Z(localStorage.getItem("token")),e.next=4,Q.a.get("http://localhost:5000/api/auth/");case 4:n=e.sent,t((a=n.data.user,{type:O,user:a})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:h}),e.t0.response&&console.log(e.t0.response.data.msg);case 12:case"end":return e.stop()}var a}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},re=function(){return function(){var e=Object(K.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("token"),t(ue()),t({type:g});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ce=function(){return{type:x}},se=function(e){return{type:v,profile:e}},oe=function(){return{type:y}},ie=function(){return function(){var e=Object(K.a)(X.a.mark((function e(t){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(ce()),e.prev=1,Z(localStorage.getItem("token")),e.next=5,Q.a.get("http://localhost:5000/api/profiles/me");case 5:n=e.sent,console.log("profile exists"),t(se(n.data.profile)),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),t(oe()),e.t0.response.data.msg&&t(V("danger",e.t0.response.data.msg));case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},le=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var a=Object(K.a)(X.a.mark((function a(r){var c,s;return X.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r(ce()),console.log(typeof e),console.log(e),c={headers:{"Content-Type":"application/json"}},a.prev=4,Z(localStorage.getItem("token")),a.next=8,Q.a.post("http://localhost:5000/api/profiles",JSON.stringify(e),c);case 8:200===(s=a.sent).status&&r(V("success",n?"Profile updated successfully !":"Profile created successfully !")),r(se(s.data.profile)),t.push("/dashboard"),a.next=20;break;case 14:a.prev=14,a.t0=a.catch(4),r(oe()),console.log(a.t0.response.data.errors),a.t0.response&&a.t0.response.data.errors.forEach((function(e){r(V("danger",e.msg))})),console.log("some unknown error occurred !");case 20:case"end":return a.stop()}}),a,null,[[4,14]])})));return function(e){return a.apply(this,arguments)}}()},ue=function(){return{type:N}},de=function(e){return function(){var t=Object(K.a)(X.a.mark((function t(n){var a;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(ce()),t.prev=1,Z(localStorage.getItem("token")),t.next=5,Q.a.get("http://localhost:5000/api/profiles/github/".concat(e));case 5:a=t.sent,console.log(a),n((r=a.data,{type:w,repos:r})),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),n(oe()),console.log(t.t0.response);case 14:case"end":return t.stop()}var r}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},je=function(){return{type:S}},pe=function(e){return{type:T,error:e}},be=function(e,t){return{type:A,id:e,likes:t}},fe=function(e,t){return{type:_,id:e,comments:t}},me=function(){return function(){var e=Object(K.a)(X.a.mark((function e(t){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(je()),e.prev=1,Z(localStorage.getItem("token")),e.next=5,Q.a.get("http://localhost:5000/api/posts");case 5:n=e.sent,console.log(n.data),t((a=n.data,{type:C,posts:a})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0,e.t0.response),t(pe(e.t0.response.data.msg));case 14:case"end":return e.stop()}var a}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()};var he=function(e){return(new Intl.DateTimeFormat).format(new Date(e))},Oe=Object(i.b)((function(e){return{profile:e.profile.profile}}),{deleteExperience:function(e){return function(){var t=Object(K.a)(X.a.mark((function t(n){var a;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(ce()),t.prev=1,Z(localStorage.getItem("token")),t.next=5,Q.a.delete("http://localhost:5000/api/profiles/experience/".concat(e));case 5:200===(a=t.sent).status&&n(V("success","Experience deleted successfully !")),n(se(a.data.profile)),t.next=16;break;case 10:t.prev=10,t.t0=t.catch(1),n(oe()),console.log(t.t0),t.t0.response&&t.t0.response.data.errors.forEach((function(e){n(V("danger",e.msg))})),console.log("some unknown error occurred !");case 16:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=function(t){console.log(t),e.deleteExperience(t)},n=e.profile.experience.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:e.company}),Object(a.jsx)("td",{className:"hide-sm",children:e.title}),Object(a.jsxs)("td",{children:[he(e.from)," - ",e.to?he(e.to):"Present"]}),Object(a.jsx)("td",{children:Object(a.jsx)("button",{className:"btn btn-dark",onClick:t.bind(undefined,e._id),children:"Delete"})})]},e._id)}));return!e.profile.experience&&console.log("no data"),Object(a.jsxs)(r.Fragment,{children:[Object(a.jsx)("h2",{style:{marginTop:"1.5rem",marginBottom:"1rem"},children:"Experience Credentials"}),Object(a.jsxs)("table",{className:"table",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Company"}),Object(a.jsx)("th",{className:"hide-sm",children:"Title"}),Object(a.jsx)("th",{className:"hide-sm",children:"Years"}),Object(a.jsx)("th",{})]})}),Object(a.jsx)("tbody",{children:n})]})]})})),ge=Object(i.b)((function(e){return{profile:e.profile.profile}}),{deleteEducation:function(e){return function(){var t=Object(K.a)(X.a.mark((function t(n){var a;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(ce()),t.prev=1,Z(localStorage.getItem("token")),t.next=5,Q.a.delete("http://localhost:5000/api/profiles/education/".concat(e));case 5:200===(a=t.sent).status&&n(V("success","Education deleted successfully !")),n(se(a.data.profile)),t.next=16;break;case 10:t.prev=10,t.t0=t.catch(1),n(oe()),console.log(t.t0),t.t0.response&&t.t0.response.data.errors.forEach((function(e){n(V("danger",e.msg))})),console.log("some unknown error occurred !");case 16:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=function(t){console.log(t),e.deleteEducation(t)},n=e.profile.education.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:e.school}),Object(a.jsx)("td",{className:"hide-sm",children:e.degree}),Object(a.jsxs)("td",{children:[he(e.from)," - ",e.to?he(e.to):"Present"]}),Object(a.jsx)("td",{children:Object(a.jsx)("button",{className:"btn btn-dark",onClick:t.bind(undefined,e._id),children:"Delete"})})]},e._id)}));return Object(a.jsxs)(r.Fragment,{children:[Object(a.jsx)("h2",{style:{marginTop:"1.5rem",marginBottom:"1rem"},children:"Education Credentials"}),Object(a.jsxs)("table",{className:"table",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"School"}),Object(a.jsx)("th",{className:"hide-sm",children:"Degree"}),Object(a.jsx)("th",{className:"hide-sm",children:"Years"}),Object(a.jsx)("th",{})]})}),Object(a.jsx)("tbody",{children:n})]})]})})),xe=Object(i.b)((function(e){return{loading:e.profile.loading,user:e.auth.user,profile:e.profile.profile,alertMsg:e.alert.msg,alertType:e.alert.type}}),(function(e){return{LOAD_CURRENT_USER:function(){return e(ie())},DELETE_ACCOUNT:function(t){return e(function(e){return function(){var t=Object(K.a)(X.a.mark((function t(n){var a;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(ce()),t.prev=1,Z(localStorage.getItem("token")),t.next=5,Q.a.delete("http://localhost:5000/api/profiles");case 5:a=t.sent,n(re()),200===a.status&&n(V("success","Account deleted successfully")),e.push("/"),t.next=17;break;case 11:t.prev=11,t.t0=t.catch(1),n(oe()),console.log(t.t0),t.t0.response&&t.t0.response.data.errors.forEach((function(e){n(V("danger",e.msg))})),console.log("some unknown error occurred !");case 17:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(Object(B.g)((function(e){Object(r.useEffect)((function(){e.LOAD_CURRENT_USER()}),[]);var t=["alert"];"success"===e.alertType?t.push("alert-primary"):t.push("alert-dark");var n=Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h1",{className:"primary-color",children:"Dashboard"}),Object(a.jsxs)("p",{className:"medium",children:[Object(a.jsx)("i",{className:"fas fa-user"})," Welcome ",e.user&&e.user.name]}),!e.loading&&!e.profile&&Object(a.jsxs)(r.Fragment,{children:[Object(a.jsx)("h3",{children:"No profile found for your user. Create one ?"})," ",Object(a.jsx)(q.b,{className:"btn btn-primary",to:"/create-profile",children:"Create Profile"})]}),e.alertMsg?Object(a.jsx)("p",{className:t.join(" "),children:e.alertMsg}):null,!e.loading&&e.profile&&Object(a.jsxs)(r.Fragment,{children:[Object(a.jsxs)(q.b,{to:"/edit-profile",className:"btn btn-light",children:[Object(a.jsx)("i",{className:"fas fa-user-circle text-primary"})," Edit Profile"]}),Object(a.jsxs)(q.b,{to:"/add-experience",className:"btn btn-light",children:[Object(a.jsx)("i",{className:"fab fa-black-tie text-primary"})," Add Experience"]}),Object(a.jsxs)(q.b,{to:"/add-education",className:"btn btn-light",children:[Object(a.jsx)("i",{className:"fas fa-graduation-cap text-primary"})," Add Education"]}),Object(a.jsx)(Oe,{}),Object(a.jsx)(ge,{}),Object(a.jsx)("button",{className:"btn btn-large btn-dark",style:{marginTop:"1.5rem"},onClick:function(){return e.DELETE_ACCOUNT(e.history)},children:"Delete Account"})]})]});return e.loading&&(n=Object(a.jsx)(W,{})),n}))),ve=n(9),ye=function(e,t){var n=!0;if(!t)return!0;if(t.required&&(n=""!==e.trim()&&n),t.minLength&&(n=e.length>=t.minLength&&n),t.isEmail){n=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)&&n}return n},Ne=(n(69),function(e){var t,n=e.invalid,c=e.elementType,s=e.elementConfig,o=e.touched,i=e.changed,l=e.value,u=e.info,j=e.icon,p=e.checked,b=["input"];n&&o&&b.push("invalid"),"input"===c?t="date"===s.type?Object(a.jsxs)(r.Fragment,{children:[Object(a.jsx)("h3",{children:u}),Object(a.jsx)("input",Object(d.a)(Object(d.a)({className:b.join(" ")},s),{},{onChange:i,value:l}))]}):"checkbox"===s.type?Object(a.jsxs)(r.Fragment,{children:[Object(a.jsx)("input",{type:"checkbox",onChange:i,value:p,checked:p})," ",Object(a.jsx)("span",{style:{fontWeight:"bold"},children:s.placeholder})]}):Object(a.jsxs)(r.Fragment,{children:["null"===j?null:j,Object(a.jsx)("input",Object(d.a)(Object(d.a)({className:b.join(" ")},s),{},{onChange:i,value:l})),Object(a.jsx)("small",{children:u})]}):"textarea"===c?t=Object(a.jsxs)(r.Fragment,{children:[Object(a.jsx)("textarea",Object(d.a)(Object(d.a)({className:b.join(" ")},s),{},{onChange:i,value:l})),Object(a.jsx)("small",{children:u})]}):"select"===c?t=Object(a.jsxs)(r.Fragment,{children:[Object(a.jsxs)("select",{className:b.join(" "),onChange:i,children:[Object(a.jsx)("option",{value:"",children:s.option1}),s.options.map((function(e){return Object(a.jsx)("option",{value:e.value,children:e.displayValue},e.value)}))]}),Object(a.jsx)("small",{children:u})]}):"date"===c&&(console.log("here"),t=Object(a.jsxs)(r.Fragment,{children:[Object(a.jsx)("h3",{children:u}),Object(a.jsx)("input",Object(d.a)(Object(d.a)({className:b.join(" ")},s),{},{onChange:i,value:l})),Object(a.jsx)("p",{children:"Sucks !!!"})]}));var f=["form-group"];return j&&f.push("social-input"),Object(a.jsx)("div",{className:f.join(" "),children:t})}),ke=Object(i.b)((function(e){return{alertMsg:e.alert.msg,alertType:e.alert.type,loading:e.auth.loading,error:e.auth.error,isAuth:e.auth.isAuth}}),(function(e){return{LOGIN:function(t,n){return e(function(e,t){return function(){var n=Object(K.a)(X.a.mark((function n(a){var r;return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(ee()),n.prev=1,n.next=4,Q.a.post("http://localhost:5000/api/auth/",JSON.stringify({email:e,password:t}),{headers:{"Content-Type":"application/json"}});case 4:r=n.sent,localStorage.setItem("token",r.data.token),a(te()),a(ae()),n.next=15;break;case 10:n.prev=10,n.t0=n.catch(1),a(ne()),console.log(n.t0.response.data.msg),a(V("danger",n.t0.response.data.msg));case 15:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}}))((function(e){var t=Object(r.useState)({email:{elementType:"input",elementConfig:{type:"text",placeholder:"Email Address"},value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1},password:{elementType:"input",elementConfig:{type:"password",placeholder:"Password"},value:"",validation:{required:!0,minLength:5},valid:!1,touched:!1}}),n=Object(ve.a)(t,2),c=n[0],s=n[1],o=Object(r.useState)(!1),i=Object(ve.a)(o,2),l=i[0],u=i[1],j=function(e,t){var n=Object(d.a)({},c),a=Object(d.a)({},n[e]);a.value=event.target.value,a.valid=ye(event.target.value,t),a.touched=!0,n[e]=a;var r=!0;for(var o in n)r=n[o].valid&&r;u(r),s(n)},p=[];for(var b in c){var f={id:b,config:c[b]};p.push(f)}var m=["btn","btn-large","btn-primary"];l||m.push("btn-disabled");var h=Object(a.jsxs)("form",{onSubmit:function(){e.LOGIN(c.email.value,c.password.value)},children:[p.map((function(e){return Object(a.jsx)(Ne,{invalid:!e.config.valid,touched:e.config.touched,elementType:e.config.elementType,elementConfig:e.config.elementConfig,changed:j.bind(undefined,e.id,e.config.validation),value:e.config.value},e.id)})),Object(a.jsx)("input",{type:"submit",disabled:!l,className:m.join(" "),value:"login"}),Object(a.jsx)("br",{}),"Don't have an account ? ",Object(a.jsx)(q.b,{to:"/register",className:"btn btn-primary",children:"Sign up"})]});e.loading&&(h=Object(a.jsx)(W,{}));var O=["alert"];return"danger"===e.alertType&&O.push("alert-dark"),e.isAuth?Object(a.jsx)(B.a,{to:"/dashboard"}):Object(a.jsx)(r.Fragment,{children:Object(a.jsx)("section",{className:"container",children:Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{className:"primary-color large",children:"Login"}),Object(a.jsxs)("p",{className:"medium",children:[Object(a.jsx)("i",{className:"fas fa-user"})," Sign into your account"]}),e.alertMsg?Object(a.jsx)("p",{className:O.join(" "),children:e.alertMsg}):null,e.error?Object(a.jsx)("p",{className:O.join(" "),children:e.error}):null,h]})})})})),we=Object(i.b)((function(e){return{alertMsg:e.alert.msg,alertType:e.alert.type,loading:e.auth.loading,error:e.auth.error,isAuth:e.auth.isAuth}}),(function(e){return{ALERT:function(t,n){return e(V(t,n))},AUTH:function(t,n,a){return e(function(e,t,n){return function(){var a=Object(K.a)(X.a.mark((function a(r){var c;return X.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r(ee()),a.prev=1,a.next=4,Q.a.post("http://localhost:5000/api/users/",JSON.stringify({name:e,email:t,password:n}),{headers:{"Content-Type":"application/json"}});case 4:c=a.sent,localStorage.setItem("token",c.data.token),r(te()),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(1),r(ne()),r(V("danger",a.t0.response.data.msg));case 13:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()}(t,n,a))}}}))((function(e){var t=Object(r.useState)({name:{elementType:"input",elementConfig:{type:"text",placeholder:"Name"},value:"",validation:{required:!0},valid:!1,touched:!1,info:""},email:{elementType:"input",elementConfig:{type:"text",placeholder:"Email Address"},value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1,info:"This site uses gravatar, so if you want to have a profile image, use that one."},password:{elementType:"input",elementConfig:{type:"password",placeholder:"Password"},value:"",validation:{required:!0,minLength:5},valid:!1,touched:!1,info:""},password2:{elementType:"input",elementConfig:{type:"password",placeholder:"Confirm Password"},value:"",validation:{required:!0,minLength:5},valid:!1,touched:!1,info:""}}),n=Object(ve.a)(t,2),c=n[0],s=n[1],o=Object(r.useState)(!1),i=Object(ve.a)(o,2),l=i[0],u=i[1],j=function(e,t){var n=Object(d.a)({},c),a=Object(d.a)({},n[e]);a.value=event.target.value,a.valid=ye(event.target.value,t),a.touched=!0,n[e]=a;var r=!0;for(var o in n)r=n[o].valid&&r;u(r),s(n)},p=[];for(var b in c){var f={id:b,config:c[b]};p.push(f)}var m=["btn","btn-large","btn-primary"];l||m.push("btn-disabled");var h=Object(a.jsxs)("form",{onSubmit:function(){if(event.preventDefault(),c.password.value!==c.password2.value)return e.ALERT("danger","passwords do not match");e.AUTH(c.name.value,c.email.value,c.password.value)},children:[p.map((function(e){return Object(a.jsx)(Ne,{invalid:!e.config.valid,touched:e.config.touched,elementType:e.config.elementType,elementConfig:e.config.elementConfig,changed:j.bind(undefined,e.id,e.config.validation),info:e.config.info,value:e.config.value},e.id)})),Object(a.jsx)("input",{type:"submit",disabled:!l,className:m.join(" "),style:{border:"none"},value:"Register"}),Object(a.jsx)("br",{}),"Already have an account ? ",Object(a.jsx)(q.b,{to:"/login",className:"btn btn-primary",children:"Login"})]});e.loading&&(h=Object(a.jsx)(W,{}));var O=["alert"];return"danger"===e.alertType&&O.push("alert-dark"),"success"===e.alertType&&O.push("alert-primary"),e.isAuth?Object(a.jsx)(B.a,{to:"/dashboard"}):Object(a.jsx)(r.Fragment,{children:Object(a.jsx)("section",{className:"container",children:Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{className:"primary-color large",children:"Sign Up"}),Object(a.jsxs)("p",{className:"medium",children:[Object(a.jsx)("i",{className:"fas fa-user"})," Create your account"]}),e.alertMsg?Object(a.jsx)("p",{className:O.join(" "),children:e.alertMsg}):null,e.error?Object(a.jsx)("p",{className:O.join(" "),children:e.error}):null,h]})})})})),Se=Object(B.g)((function(e){var t=e.profile,n=e.history;return Object(a.jsx)(r.Fragment,{children:Object(a.jsxs)("div",{className:"profiles",children:[Object(a.jsx)("img",{src:t.user.avatar?t.user.avatar:"https://www.gravatar.com/avatar/205e460b479e2e5b48aec07710c08d50?s=200",alt:"Poor Internet, Cant load image"}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:t.user.name}),Object(a.jsxs)("p",{children:[t.status," ",t.company&&Object(a.jsxs)("span",{children:["at ",t.company]})]}),Object(a.jsx)("p",{children:t.location}),Object(a.jsx)("button",{onClick:function(){return n.push("/user/".concat(t.user._id))},className:"btn btn-primary btn-large",style:{marginTop:"0.5rem"},children:"View Profile"})]}),Object(a.jsx)("div",{children:Object(a.jsx)("ul",{children:t.skills.map((function(e){return Object(a.jsx)("li",{children:Object(a.jsx)("h3",{className:"primary-color",children:Object(a.jsx)("i",{className:"fas fa-check",children:e})})},e)}))})})]})})})),Ce=Object(i.b)((function(e){return{loading:e.profile.loading,profiles:e.profile.profiles}}),{getProfiles:function(){return function(){var e=Object(K.a)(X.a.mark((function e(t){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(ce()),e.prev=1,e.next=4,Q.a.get("http://localhost:5000/api/profiles");case 4:n=e.sent,t((a=n.data.profiles,{type:k,profiles:a})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),t(oe()),t(V("danger","some unknown error occurred !"));case 12:case"end":return e.stop()}var a}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){Object(r.useEffect)((function(){e.getProfiles()}),[]);var t=Object(a.jsx)(r.Fragment,{children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h1",{className:"primary-color",children:"Developers"}),Object(a.jsxs)("p",{className:"medium",style:{marginBottom:"10px"},children:[Object(a.jsx)("i",{className:"fab fa-connectdevelop"})," Browse and Connect with Developers"]}),e.profiles.map((function(e){return Object(a.jsx)("div",{children:Object(a.jsx)(Se,{profile:e})},e._id)}))]})});return e.loading&&(t=Object(a.jsx)(W,{})),t})),Ee=Object(i.b)((function(e){return{userId:e.auth.user._id}}),{addLike:function(e){return function(){var t=Object(K.a)(X.a.mark((function t(n){var a;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Z(localStorage.getItem("token")),t.next=4,Q.a.put("http://localhost:5000/api/posts/like/".concat(e));case 4:a=t.sent,console.log(a.data),n(be(e,a.data)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0,t.t0.response),n(pe(t.t0.response.data.msg));case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},deletePost:function(e){return function(){var t=Object(K.a)(X.a.mark((function t(n){return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Z(localStorage.getItem("token")),t.next=4,Q.a.delete("http://localhost:5000/api/posts/".concat(e));case 4:n(me()),n(V("success","Post removed !")),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0,t.t0.response),n(pe(t.t0.response.data.msg));case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},removeLike:function(e){return function(){var t=Object(K.a)(X.a.mark((function t(n){var a;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Z(localStorage.getItem("token")),t.next=4,Q.a.put("http://localhost:5000/api/posts/unlike/".concat(e));case 4:a=t.sent,console.log(a.data),n(be(e,a.data)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0,t.t0.response),n(pe(t.t0.response.data.msg));case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.post,n=e.userId,c=e.addLike,s=e.deletePost,o=e.removeLike,i=e.showActions,l=["post"];return e.lightBg&&l.push("bg-light"),Object(a.jsx)(r.Fragment,{children:Object(a.jsxs)("div",{className:l.join(" "),children:[Object(a.jsx)("div",{children:Object(a.jsxs)(q.b,{to:"/user/".concat(t.user),children:[Object(a.jsx)("img",{src:t.avatar,alt:"cant load image"}),Object(a.jsx)("h4",{className:"primary-color",children:t.name})]})}),Object(a.jsxs)("div",{children:[Object(a.jsx)(q.b,{to:"/posts/".concat(t._id),children:Object(a.jsx)("p",{className:"my-top-1",style:{color:"black",cursor:"default"},children:t.text})}),Object(a.jsxs)("p",{className:"post-date my-top",children:["Posted on ",he(t.date)]}),i&&Object(a.jsxs)(r.Fragment,{children:[Object(a.jsxs)("button",{type:"button",className:"btn btn-light",onClick:function(e){return c(t._id)},children:[Object(a.jsx)("i",{className:"fas fa-thumbs-up"}),Object(a.jsx)("span",{children:0===t.likes.length?null:Object(a.jsxs)("span",{children:[" ",t.likes.length]})})]}),Object(a.jsx)("button",{type:"button",className:"btn btn-light",onClick:function(e){return o(t._id)},children:Object(a.jsx)("i",{className:"fas fa-thumbs-down"})}),Object(a.jsxs)(q.b,{to:"/posts/".concat(t._id),className:"btn btn-primary",children:["Discussion ",0===t.comments.length?null:Object(a.jsxs)("span",{className:"comment-count",children:[" ",t.comments.length]})]}),t.user===n&&Object(a.jsx)("button",{type:"button",className:"btn btn-large btn-dark",onClick:function(e){return s(t._id)},children:Object(a.jsx)("i",{className:"fas fa-times"})})]})]})]})})})),Te=void 0,Ae=Object(i.b)((function(e){return{posts:e.post,isAuth:e.auth.isAuth,alertType:e.alert.type,alertMsg:e.alert.msg}}),{loadPosts:me,addPost:function(e){return function(){var t=Object(K.a)(X.a.mark((function t(n){var a;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(je()),a={headers:{"Content-Type":"application/json"}},t.prev=2,Z(localStorage.getItem("token")),t.next=6,Q.a.post("http://localhost:5000/api/posts",e,a);case 6:n(me()),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0,t.t0.response),n(pe(t.t0.response.data.msg));case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.loadPosts,n=e.addPost,c=e.isAuth,s=e.posts,o=s.posts,i=s.loading,l=e.alertMsg,u=e.alertType,d=Object(r.useState)(""),j=Object(ve.a)(d,2),p=j[0],b=j[1];Object(r.useEffect)((function(){c&&t()}),[c,t]);var f=["alert"];return"success"===u?f.push("alert-primary"):f.push("alert-dark"),Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h1",{className:"primary-color",style:{fontSize:"2.8rem"},children:"Posts"}),Object(a.jsxs)("p",{className:"medium",children:[Object(a.jsx)("i",{className:"fas fa-user"}),"Welcome to the community !"]}),Object(a.jsx)("p",{className:"alert alert-primary my-bottom-1",children:Object(a.jsx)("strong",{children:"Say Something"})}),Object(a.jsx)("textarea",{style:{width:"100%",fontSize:"1.3rem",padding:"0.5rem"},rows:"6",value:p,placeholder:"Create A Post",onChange:function(e){b(e.target.value)}.bind(Te)}),Object(a.jsx)("button",{className:"btn btn-large btn-primary",onClick:function(e){e.preventDefault(),n({text:p}),b("")}.bind(Te),children:"Submit"}),!i&&l&&Object(a.jsx)("p",{className:f.join(" "),children:l}),i?Object(a.jsx)(W,{}):0===o.length?Object(a.jsx)("h1",{children:"No posts to show"}):o.map((function(e){return Object(a.jsx)(Ee,{post:e,showActions:!0},e._id)}))]})})),_e=void 0,De=Object(i.b)(null,{addComment:function(e,t){return function(){var n=Object(K.a)(X.a.mark((function n(a){var r,c;return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={headers:{"Content-Type":"application/json"}},n.prev=1,Z(localStorage.getItem("token")),n.next=5,Q.a.put("http://localhost:5000/api/posts/".concat(e,"/comment"),t,r);case 5:c=n.sent,console.log(c.data),a(fe(e,c.data)),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(1),console.log(n.t0,n.t0.response),a(pe(n.t0.response.data.msg));case 14:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.postId,n=e.addComment,c=Object(r.useState)(""),s=Object(ve.a)(c,2),o=s[0],i=s[1];return Object(a.jsx)(r.Fragment,{children:Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"alert alert-primary",children:Object(a.jsx)("h4",{children:"Leave A Comment"})}),Object(a.jsxs)("form",{className:"my-top-1",children:[Object(a.jsx)("textarea",{style:{width:"100%",fontSize:"1.3rem",padding:"0.5rem"},rows:"3",value:o,placeholder:"Write something...",onChange:function(e){i(e.target.value)}.bind(_e)}),Object(a.jsx)("button",{className:"btn btn-large btn-dark",onClick:function(e){e.preventDefault(),n(t,{text:o}),i("")}.bind(_e),children:"Submit"})]})]})})})),Ie=Object(i.b)((function(e){return{alertMsg:e.alert.msg,posts:e.post,userId:e.auth.user._id}}),{loadPost:function(e){return function(){var t=Object(K.a)(X.a.mark((function t(n){var a;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(je()),t.prev=1,Z(localStorage.getItem("token")),t.next=5,Q.a.get("http://localhost:5000/api/posts/".concat(e));case 5:a=t.sent,console.log(a.data),n((r=a.data,{type:E,post:r})),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0,t.t0.response),t.t0.response&&n(pe(t.t0.response.data.message));case 14:case"end":return t.stop()}var r}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},deleteComment:function(e,t){return function(){var n=Object(K.a)(X.a.mark((function n(a){var r;return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,Z(localStorage.getItem("token")),n.next=4,Q.a.delete("http://localhost:5000/api/posts/".concat(e,"/deleteComment/").concat(t));case 4:r=n.sent,console.log(r.data),a(fe(e,r.data)),a(V("success","Comment removed !")),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0,n.t0.response),a(pe(n.t0.response.data.msg));case 14:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()}})(Object(B.g)((function(e){var t=e.loadPost,n=e.posts,c=n.post,s=n.loading,o=n.error,i=e.userId,l=e.match,u=e.history,d=e.deleteComment,j=e.alertMsg;Object(r.useEffect)((function(){t(l.params.id)}),[]),!s&&c&&console.log(c.comments);var p=!s&&c&&c.comments.map((function(e){return Object(a.jsx)("div",{className:"comments",children:Object(a.jsxs)("div",{className:"post my-top-1",children:[Object(a.jsx)("div",{children:Object(a.jsxs)(q.b,{to:"/user/".concat(e.user),children:[Object(a.jsx)("img",{src:e.avatar,alt:"Cant load image"}),Object(a.jsx)("h4",{className:"primary-color",children:e.name})]})}),Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{className:"my-top-1",children:e.text}),Object(a.jsxs)("p",{className:"post-date",children:["Posted on ",he(e.date)]}),e.user===i&&Object(a.jsx)("button",{type:"button",className:"btn btn-large btn-dark",onClick:function(t){return d(c._id,e._id)},children:Object(a.jsx)("i",{className:"fas fa-times"})})]})]})},e._id)}));return s?Object(a.jsx)(W,{}):c?Object(a.jsx)(r.Fragment,{children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("button",{className:"btn btn-large",onClick:function(){return u.goBack()},children:"Back to Posts"}),Object(a.jsx)(Ee,{post:c,userId:i,showActions:!1,lightBg:!0}),Object(a.jsx)(De,{postId:c._id}),!s&&j&&Object(a.jsx)("p",{className:"alert alert-primary",children:j}),p]})}):Object(a.jsx)("h2",{className:"container",children:o})}))),Pe=Object(i.b)(null,{logout:re})((function(e){var t=e.logout;return Object(r.useEffect)((function(){t()}),[]),Object(a.jsx)(B.a,{to:"/"})})),Le=function(e){var t=Object(r.useState)(!1),n=Object(ve.a)(t,2),c=(n[0],n[1],[]),s=function(t){var n="text",r="",s="input",o=[],i="",l=null;"name"===e[t].name&&(r="Name"),"email"===e[t].name&&(r="Email Address"),"password"===e[t].name&&(n="password",r="Password"),"password2"===e[t].name&&(n="password",r="Confirm Password"),"status"===e[t].name&&(s="select",i=e[t].options[0],e[t].options.shift(),e[t].options.map((function(e){return o.push({value:e.toLowerCase().trim().split(" ").join(""),displayValue:e})}))),"company"===e[t].name&&(r=e[t].validation?"* Company":"Company"),"website"===e[t].name&&(r="Website"),"location"===e[t].name&&(r="Location"),"skills"===e[t].name&&(r="* Skills"),"githubusername"===e[t].name&&(r="Github Username"),"bio"===e[t].name&&(s="textarea",r="A short bio of yourself"),"description"===e[t].name&&(s="textarea",r="Job Description"),"title"===e[t].name&&(r="* Job Title"),"from"!==e[t].name&&"to"!==e[t].name||(n="date"),"current"===e[t].name&&(n="checkbox",r=e[t].info),"school"===e[t].name&&(r="* School or Bootcamp"),"degree"===e[t].name&&(r="* Degree or Certificate"),"fieldOfStudy"===e[t].name&&(r="Field Of Study"),"twitter"===e[t].name&&(l=Object(a.jsx)("i",{className:"fab fa-twitter fa-2x"}),r="Twitter URL"),"facebook"===e[t].name&&(l=Object(a.jsx)("i",{className:"fab fa-facebook fa-2x"}),r="Facebook URL"),"youtube"===e[t].name&&(l=Object(a.jsx)("i",{className:"fab fa-youtube fa-2x"}),r="Youtube URL"),"linkedIn"===e[t].name&&(l=Object(a.jsx)("i",{className:"fab fa-linkedin fa-2x"}),r="LinkedIn URL"),"instagram"===e[t].name&&(l=Object(a.jsx)("i",{className:"fab fa-instagram fa-2x"}),r="Instagram URL");var u={elementType:s,elementConfig:{type:n,placeholder:r,option1:i||null,options:o},checked:!0===e[t].checkbox,value:"",validation:e[t].validation?e[t].validation:"",valid:!e[t].validation,touched:!e[t].validation,info:e[t].info?e[t].info:"",icon:l},d={id:e[t].name,config:u};c.push(d)};for(var o in e)s(o);var i=Object(r.useState)(c),l=Object(ve.a)(i,2),u=l[0],j=l[1],p=Object(r.useState)(!1),b=Object(ve.a)(p,2),f=b[0],m=b[1],h=[];for(var O in u)h.push(u[O]);return[u,f,function(e,t){var n=Object(d.a)({},u),a=h.findIndex((function(t){return t.id===e})),r=Object(d.a)({},n[a]);r.config.value=event.target.value,r.config.valid=ye(event.target.value,t),r.config.touched=!0,"current"===e&&(r.config.checked=!r.config.checked),n[a]=r;var c=!0;for(var s in n)c=c&&n[s].config.valid;j(n),m(c)}]},Re=Object(i.b)((function(e){return{alertMsg:e.alert.msg}}),{createProfile:le})(Object(B.g)((function(e){var t=Le([{name:"status",validation:{required:!0},info:"Give us an idea of where you are at in your career",options:["* Select Professional Status","Developer","Junior Developer","Senior Developer","Manager","Student or Learning","Instructor","Intern","Other"]},{name:"company",info:"Could be your own company or one you work for"},{name:"website",info:"Could be your own or a company website"},{name:"location",info:"City & state suggested (eg. Boston, MA)"},{name:"skills",validation:{required:!0},info:"Please use comma separated values (eg. HTML,CSS,JavaScript,PHP)"},{name:"githubusername",info:"If you want your latest repos and a Github link, include your username"},{name:"bio",info:"Tell us a little about yourself"},{name:"twitter"},{name:"facebook"},{name:"youtube"},{name:"linkedIn"},{name:"instagram"}]),n=Object(ve.a)(t,3),c=n[0],s=n[1],o=n[2],i=[];for(var l in c)i.push(c[l]);var u=["btn","btn-large","btn-primary"];return s||u.push("btn-disabled"),Object(a.jsx)(r.Fragment,{children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h1",{className:"large primary-color",children:"Create Your Profile"}),Object(a.jsxs)("p",{className:"medium",children:[Object(a.jsx)("i",{className:"fas fa-user"})," Let's get some information to make your profile stand out"]}),Object(a.jsx)("div",{style:{marginTop:"10px"},children:"* = required fields"}),Object(a.jsxs)("form",{onSubmit:function(){event.preventDefault();var t={};for(var n in c){t[c[n].id]=c[n].config.value}console.log(t),e.createProfile(t,e.history)},children:[Object(a.jsx)("div",{children:i.map((function(e){return Object(a.jsx)(Ne,{invalid:!e.config.valid,touched:e.config.touched,elementType:e.config.elementType,elementConfig:e.config.elementConfig,changed:o.bind(undefined,e.id,e.config.validation),value:e.config.value,info:e.config.info,icon:e.config.icon},e.id)}))}),e.alertMsg?Object(a.jsx)("p",{className:"alert alert-dark",children:e.alertMsg}):null,Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{type:"submit",disabled:!s,className:u.join(" ")}),Object(a.jsx)(q.b,{to:"/profiles",className:"btn btn-dark",children:" Go Back "})]})]})]})})}))),Fe=Object(i.b)((function(e){return{loading:e.profile.loading,profile:e.profile.profile,alertMsg:e.alert.msg}}),{createProfile:le,currentProfile:ie})(Object(B.g)((function(e){var t=e.history,n=e.loading,c=e.createProfile,s=e.profile,o=e.alertMsg,i=e.currentProfile,l=Le([{name:"status",validation:{required:!0},info:"Give us an idea of where you are at in your career",options:["* Select Professional Status","Developer","Junior Developer","Senior Developer","Manager","Student or Learning","Instructor","Intern","Other"]},{name:"company",info:"Could be your own company or one you work for"},{name:"website",info:"Could be your own or a company website"},{name:"location",info:"City & state suggested (eg. Boston, MA)"},{name:"skills",validation:{required:!0},info:"Please use comma separated values (eg. HTML,CSS,JavaScript,PHP)"},{name:"githubusername",info:"If you want your latest repos and a Github link, include your username"},{name:"bio",info:"Tell us a little about yourself"},{name:"twitter"},{name:"facebook"},{name:"youtube"},{name:"linkedIn"},{name:"instagram"}]),u=Object(ve.a)(l,3),d=u[0],j=(u[1],u[2]);Object(r.useEffect)((function(){if(i(),!n&&s)for(var e in d){for(var t in s)d[e].id===t&&(d[e].config.value=s[t]),"skills"===d[e].id&&"skills"===t&&(d[e].config.value=s[t].join(", "));for(var a in s.social)a===d[e].id&&(d[e].config.value=s.social[a])}}),[]);var p=[];for(var b in d)p.push(d[b]);return Object(a.jsx)(r.Fragment,{children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h1",{className:"large primary-color",children:"Edit Your Profile"}),Object(a.jsx)("div",{style:{marginTop:"10px"},children:"* = required fields"}),Object(a.jsxs)("form",{onSubmit:function(){event.preventDefault();var e={};for(var n in d){e[d[n].id]=d[n].config.value}c(e,t,!0)},children:[Object(a.jsx)("div",{children:p.map((function(e){return Object(a.jsx)(Ne,{invalid:!e.config.valid,touched:e.config.touched,elementType:e.config.elementType,elementConfig:e.config.elementConfig,changed:j.bind(undefined,e.id,e.config.validation),value:e.config.value,info:e.config.info,icon:e.config.icon},e.id)}))}),o?Object(a.jsx)("p",{className:"alert alert-dark",children:o}):null,Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{type:"submit",className:"btn btn-large btn-primary"}),Object(a.jsx)(q.b,{to:"/profiles",className:"btn btn-dark",children:" Go Back "})]})]})]})})}))),Ue=Object(i.b)((function(e){return{alertMsg:e.alert.msg}}),(function(e){return{ADD_EXPERIENCE:function(t,n){return e(function(e,t){return function(){var n=Object(K.a)(X.a.mark((function n(a){var r,c;return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(ce()),console.log(e),r={headers:{"Content-Type":"application/json"}},n.prev=3,Z(localStorage.getItem("token")),n.next=7,Q.a.put("http://localhost:5000/api/profiles/experience",JSON.stringify(e),r);case 7:200===(c=n.sent).status&&a(V("success","Experience added successfully !")),a(se(c.data.profile)),t.push("/dashboard"),n.next=19;break;case 13:n.prev=13,n.t0=n.catch(3),a(oe()),console.log(n.t0),n.t0.response&&n.t0.response.data.errors.forEach((function(e){a(V("danger",e.msg))})),console.log("some unknown error occurred !");case 19:case"end":return n.stop()}}),n,null,[[3,13]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}}))(Object(B.g)((function(e){var t=Le([{name:"title",validation:{required:!0}},{name:"company",validation:{required:!0}},{name:"location"},{name:"from",validation:{required:!0},info:"From Date"},{name:"current",checkbox:!1,info:"Current Job"},{name:"to",info:"To Date"},{name:"description"}]),n=Object(ve.a)(t,3),c=n[0],s=n[1],o=n[2],i=[];for(var l in c)i.push(c[l]);for(var u in c)if("current"===c[u].id&&c[u].config.checked){var d=i.findIndex((function(e){return"to"===e.id}));i.splice(d,1)}var j=["btn","btn-large","btn-primary"];return s||j.push("btn-disabled"),Object(a.jsx)(r.Fragment,{children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h1",{className:"large primary-color",children:"Add an Experience"}),Object(a.jsxs)("p",{className:"medium",children:[Object(a.jsx)("i",{className:"fas fa-code-branch"})," Add any developer/programming positions that you have had in the past"]}),Object(a.jsx)("div",{style:{marginTop:"10px"},children:"* = required fields"}),Object(a.jsxs)("form",{onSubmit:function(){event.preventDefault();var t={};for(var n in c){var a=c[n].id;t[a]=c[n].config.value,"current"===a&&(t[a]=c[n].config.checked)}console.log(t),e.ADD_EXPERIENCE(t,e.history)},children:[Object(a.jsx)("div",{children:i.map((function(e){return Object(a.jsx)(Ne,{invalid:!e.config.valid,touched:e.config.touched,elementType:e.config.elementType,elementConfig:e.config.elementConfig,changed:o.bind(undefined,e.id,e.config.validation),value:e.config.value,info:e.config.info,icon:e.config.icon,checked:e.config.checked},e.id)}))}),e.alertMsg?Object(a.jsx)("p",{className:"alert alert-dark",children:e.alertMsg}):null,Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{type:"submit",disabled:!s,className:j.join(" ")}),Object(a.jsx)(q.b,{to:"/profiles",className:"btn btn-dark",children:" Go Back "})]})]})]})})}))),Me=Object(i.b)((function(e){return{alertMsg:e.alert.msg}}),(function(e){return{ADD_EDUCATION:function(t,n){return e(function(e,t){return function(){var n=Object(K.a)(X.a.mark((function n(a){var r,c;return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(ce()),console.log(e),r={headers:{"Content-Type":"application/json"}},n.prev=3,Z(localStorage.getItem("token")),n.next=7,Q.a.put("http://localhost:5000/api/profiles/education",JSON.stringify(e),r);case 7:200===(c=n.sent).status&&a(V("success","Education added successfully !")),a(se(c.data.profile)),t.push("/dashboard"),n.next=19;break;case 13:n.prev=13,n.t0=n.catch(3),a(oe()),console.log(n.t0),n.t0.response&&n.t0.response.data.errors.forEach((function(e){a(V("danger",e.msg))})),console.log("some unknown error occurred !");case 19:case"end":return n.stop()}}),n,null,[[3,13]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}}))(Object(B.g)((function(e){var t=Le([{name:"school",validation:{required:!0}},{name:"degree",validation:{required:!0}},{name:"fieldOfStudy",validation:{required:!0}},{name:"from",info:"From Date",validation:{required:!0}},{name:"current",checkbox:!1,info:"Current School or Bootcamp"},{name:"to",info:"To Date"},{name:"description"}]),n=Object(ve.a)(t,3),c=n[0],s=n[1],o=n[2],i=[];for(var l in c)i.push(c[l]);for(var u in c)if("current"===c[u].id&&c[u].config.checked){var d=i.findIndex((function(e){return"to"===e.id}));i.splice(d,1)}var j=["btn","btn-large","btn-primary"];return s||j.push("btn-disabled"),Object(a.jsx)(r.Fragment,{children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h1",{className:"large primary-color",children:"Add an Education"}),Object(a.jsxs)("p",{className:"medium",children:[Object(a.jsx)("i",{className:"fas fa-graduation-cap"})," Add any school, bootcamp, etc that you have attended"]}),Object(a.jsx)("div",{style:{marginTop:"10px"},children:"* = required fields"}),Object(a.jsxs)("form",{onSubmit:function(){event.preventDefault();var t={};for(var n in c){var a=c[n].id;t[a]=c[n].config.value,"current"===a&&(t[a]=c[n].config.checked)}e.ADD_EDUCATION(t,e.history)},children:[Object(a.jsx)("div",{children:i.map((function(e){return Object(a.jsx)(Ne,{invalid:!e.config.valid,touched:e.config.touched,elementType:e.config.elementType,elementConfig:e.config.elementConfig,changed:o.bind(undefined,e.id,e.config.validation),value:e.config.value,info:e.config.info,icon:e.config.icon,checked:e.config.checked},e.id)}))}),e.alertMsg?Object(a.jsx)("p",{className:"alert alert-dark",children:e.alertMsg}):null,Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{type:"submit",disabled:!s,className:j.join(" ")}),Object(a.jsx)(q.b,{to:"/profiles",className:"btn btn-dark",children:" Go Back "})]})]})]})})}))),Be=function(e){var t=[];if(e.profile)for(var n in e.profile.social)t.push({type:n,url:e.profile.social[n]});var c=0===t.length?null:t.map((function(e){return Object(a.jsxs)("a",{href:e.url,target:"_blank",children:[Object(a.jsx)("i",{className:"fab fa-".concat(e.type," fa-2x")}),"linkedIn"===e.type&&Object(a.jsx)("i",{className:"fab fa-linkedin fa-2x"})]},e.type)})),s=e.profile&&e.profile.website?Object(a.jsx)("a",{href:e.profile.website,target:"_blank",children:Object(a.jsx)("i",{className:"fas fa-globe fa-2x"})}):null;return Object(a.jsxs)(r.Fragment,{children:[Object(a.jsx)("img",{src:e.profile.user.avatar?e.profile.user.avatar:"https://www.gravatar.com/avatar/205e460b479e2e5b48aec07710c08d50?s=200",alt:"Poor internet, cant load image"}),Object(a.jsx)("p",{style:{fontSize:"2.6rem",fontWeight:"bold",marginBottom:"5px"},children:e.profile.user.name}),Object(a.jsxs)("p",{className:"medium",style:{marginBottom:"5px"},children:[e.profile.status," ",e.profile.company&&Object(a.jsxs)("span",{children:["at ",e.profile.company]})]}),Object(a.jsx)("p",{className:"small",children:e.profile.location}),Object(a.jsxs)("div",{className:"profile-top-icons",children:[s,c]})]})},qe=function(e){return Object(a.jsxs)(r.Fragment,{children:[Object(a.jsxs)("div",{children:[Object(a.jsxs)("h2",{children:[e.profile.user.name,"'s Bio"]}),Object(a.jsx)("p",{className:"small",children:e.profile.bio?e.profile.bio:Object(a.jsx)("span",{children:"No Bio entered by user !!!"})})]}),Object(a.jsx)("div",{className:"line"}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{style:{marginBottom:"1rem"},children:"Skill Set"}),0!==e.profile.skills.length&&e.profile.skills.map((function(e){return Object(a.jsxs)("span",{style:{paddingLeft:"4rem"},children:[Object(a.jsx)("i",{className:"fa fa-check"})," ",e]},e)}))]})]})},Ge=function(e){var t=e.experience;return Object(a.jsx)(r.Fragment,{children:t&&Object(a.jsxs)(r.Fragment,{children:[Object(a.jsx)("h2",{className:"primary-color",style:{marginBottom:"1rem"},children:"Experience"}),t.map((function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{className:"my-bottom",children:e.company}),Object(a.jsxs)("p",{className:"my-bottom",children:[he(e.from)," - ",e.current?Object(a.jsx)("span",{children:"Current"}):e.to?Object(a.jsx)("span",{children:he(e.to)}):Object(a.jsx)("span",{children:"Unknown"})]}),Object(a.jsxs)("p",{className:"my-bottom",children:[Object(a.jsx)("strong",{children:"Position : "}),e.title]}),e.description&&Object(a.jsxs)("p",{className:"my-bottom-1",children:[Object(a.jsx)("strong",{children:"Description : "}),e.description]})]},e._id)}))]})})},Je=function(e){var t=e.education;return Object(a.jsx)(r.Fragment,{children:t&&Object(a.jsxs)(r.Fragment,{children:[Object(a.jsx)("h2",{className:"primary-color",style:{marginBottom:"1rem"},children:"Education"}),t.map((function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{className:"my-bottom",children:e.school}),Object(a.jsxs)("p",{className:"my-bottom",children:[he(e.from)," - ",e.current?Object(a.jsx)("span",{children:"Current"}):e.to?Object(a.jsx)("span",{children:he(e.to)}):Object(a.jsx)("span",{children:"Unknown"})]}),Object(a.jsxs)("p",{className:"my-bottom",children:[Object(a.jsx)("strong",{children:"Degree : "}),e.degree]}),Object(a.jsxs)("p",{className:"my-bottom",children:[Object(a.jsx)("strong",{children:"Field Of Study : "}),e.fieldOfStudy]}),e.description&&Object(a.jsxs)("p",{className:"my-bottom-1",children:[Object(a.jsx)("strong",{children:"Description : "}),e.description]})]},e._id)}))]})})},ze=Object(i.b)((function(e){return{loading:e.profile.loading,repos:e.profile.repos}}),{getGithubRepos:de})((function(e){var t=e.username,n=e.repos,c=e.getGithubRepos,s=e.loading;return Object(r.useEffect)((function(){c(t)}),[]),Object(a.jsxs)(r.Fragment,{children:[Object(a.jsx)("h1",{className:"primary-color my-bottom-1",children:"GitHub Repositories"}),s||0!==n.length?Object(a.jsx)(r.Fragment,{children:s||0===n.length?null:n.map((function(e){return Object(a.jsxs)("div",{className:"repo",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("a",{href:e.html_url,target:"_blank",style:{color:"black"},children:Object(a.jsx)("h3",{className:"my-bottom",children:e.name})}),Object(a.jsx)("p",{children:e.description})]}),Object(a.jsx)("div",{className:"my-bottom-1",children:Object(a.jsxs)("ul",{children:[Object(a.jsxs)("li",{className:"badge badge-primary",children:["Stars: ",e.stargazers_count]}),Object(a.jsxs)("li",{className:"badge badge-dark",children:["Watchers: ",e.watchers_count]}),Object(a.jsxs)("li",{className:"badge badge-white",children:["Forks: ",e.forks_count]})]})})]},e.id)}))}):Object(a.jsx)("h3",{children:"No Github Repos to show"})]})})),He=Object(i.b)((function(e){return{loading:e.profile.loading,profile:e.profile.profile,repos:e.profile.repos,auth:e.auth}}),{getProfileBUserId:function(e){return function(){var t=Object(K.a)(X.a.mark((function t(n){var a;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(ce()),n(ue()),n(ce()),t.prev=3,t.next=6,Q.a.get("http://localhost:5000/api/profiles/user/".concat(e));case 6:a=t.sent,n(se(a.data.profile)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(3),n(oe()),n(V("danger","some unknown error occurred !"));case 14:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}()},getGithubRepos:de})(Object(B.g)((function(e){Object(r.useEffect)((function(){e.getProfileBUserId(e.match.params.userId)}),[]),!e.loading&&console.log(e.profile);var t=null;!e.loading&&e.profile&&e.auth.isAuth&&e.auth.user._id===e.profile.user._id&&(t=Object(a.jsx)("button",{className:"btn btn-light btn-large",onClick:function(){return e.history.push("/edit-profile")},children:"Edit Profile"}));var n=Object(a.jsx)(W,{});return e.profile&&(n=Object(a.jsx)(r.Fragment,{children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("button",{className:"btn btn-light btn-large",onClick:function(){return e.history.goBack()},children:"Go Back"}),t,Object(a.jsxs)("div",{className:"profile-grid",children:[Object(a.jsx)("div",{className:"profile-top",children:Object(a.jsx)(Be,{profile:e.profile})}),Object(a.jsx)("div",{className:"profile-about",children:Object(a.jsx)(qe,{profile:e.profile})}),Object(a.jsx)("div",{className:"profile-exp",children:Object(a.jsx)(Ge,{experience:e.profile.experience})}),Object(a.jsx)("div",{className:"profile-edu",children:Object(a.jsx)(Je,{education:e.profile.education})}),Object(a.jsx)("div",{className:"profile-github",children:Object(a.jsx)(ze,{username:e.profile.githubUsername})})]})]})})),n}))),We=(n(70),Object(i.b)((function(e){return{isAuth:e.auth.isAuth}}),(function(e){return{LOAD_USER:function(){return e(ae())}}}))((function(e){Object(r.useEffect)((function(){e.LOAD_USER()}),[]);var t=Object(a.jsxs)(B.d,{children:[Object(a.jsx)(B.b,{path:"/register",exact:!0,component:we}),Object(a.jsx)(B.b,{path:"/login",exact:!0,component:ke}),Object(a.jsx)(B.b,{path:"/developers",exact:!0,component:Ce}),Object(a.jsx)(B.b,{path:"/user/:userId",exact:!0,component:He}),Object(a.jsx)(J,{path:"/logout",exact:!0,component:Pe}),Object(a.jsx)(J,{path:"/posts",exact:!0,component:Ae}),Object(a.jsx)(J,{path:"/posts/:id",exact:!0,component:Ie}),Object(a.jsx)(J,{path:"/dashboard",exact:!0,component:xe}),Object(a.jsx)(J,{path:"/create-profile",exact:!0,component:Re}),Object(a.jsx)(J,{path:"/edit-profile",exact:!0,component:Fe}),Object(a.jsx)(J,{path:"/add-experience",exact:!0,component:Ue}),Object(a.jsx)(J,{path:"/add-education",exact:!0,component:Me}),Object(a.jsx)(B.b,{path:"/",exact:!0,component:H}),Object(a.jsx)(B.a,{to:"/"})]});return Object(a.jsx)(q.a,{children:Object(a.jsxs)(r.Fragment,{children:[Object(a.jsx)(z,{}),t]})})}))),Ve=Object(l.c)({alert:I,auth:L,profile:F,post:M}),Ye=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,Xe=Object(l.e)(Ve,Ye(Object(l.a)(u.a))),Ke=Object(a.jsx)(i.a,{store:Xe,children:Object(a.jsx)(We,{})});o.a.render(Object(a.jsx)(c.a.StrictMode,{children:Ke}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.25abe18f.chunk.js.map